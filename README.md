I'm experimenting with things. I had a working nix setup but am now venturing into Codespaces and flakes. 
Wish me luck, and follow along with notes and more here.

https://github.com/NixOS/nix/issues/6680#issuecomment-1577781769